!function(){"use strict";function t(t,i){for(var a=0;a<i.length;a++){var h=i[a];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(t,h.key,h)}}new(function(){function i(){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),this.canvas=document.getElementById("canvasSky"),this.ctx=this.canvas.getContext("2d"),this.width=window.innerWidth,this.height=window.innerHeight,this.run()}var a,h;return a=i,(h=[{key:"initCanvas",value:function(){this.canvas.width=this.width,this.canvas.height=this.height,this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawOverlayer",value:function(){var t=this.ctx.createRadialGradient(this.width/2,this.height/2,250,this.width/2,this.height/2,this.width/2);t.addColorStop(0,"rgba(0,0,0,0)"),t.addColorStop(1,"rgba(0,0,0,.8)"),this.ctx.fillStyle=t,this.ctx.fillRect(0,0,this.width,this.height)}},{key:"drawFloor",value:function(){this.ctx.save(),this.ctx.fillStyle="#004500",this.ctx.beginPath(),this.ctx.moveTo(-100,this.height),this.ctx.bezierCurveTo(.2*this.width,800,.8*this.width,800,this.width+100,this.height),this.ctx.fill(),this.ctx.restore()}},{key:"drawSun",value:function(){this.ctx.save();var t=this.ctx.createRadialGradient(this.width/2,90,10,this.width/2,90,80);t.addColorStop(0,"yellow"),t.addColorStop(1,"#ff3535"),this.ctx.fillStyle=t,this.ctx.beginPath(),this.ctx.arc(this.width/2,90,80,0,2*Math.PI),this.ctx.fill(),this.ctx.restore()}},{key:"generateStars",value:function(t){for(var i=[],a=0;a<t;a++){var h=Math.random()*this.width,s=Math.random()*this.height,e=4*Math.random()+1,r=e,n=Math.random()+.25;i.push({x:h,y:s,radius:e,startRadius:r,color:"#fff",speed:n})}this.stars=i}},{key:"drawStar",value:function(t){this.ctx.save(),this.ctx.fillStyle="#fff",this.ctx.beginPath(),this.ctx.translate(t.x,t.y),this.ctx.moveTo(0,0-t.radius);for(var i=0;i<5;i++)this.ctx.rotate(Math.PI/180*36),this.ctx.lineTo(0,0-.5*t.radius),this.ctx.rotate(Math.PI/180*36),this.ctx.lineTo(0,0-t.radius);this.ctx.fill(),this.ctx.restore()}},{key:"drawStars",value:function(){var t=this;this.stars.forEach((function(i){t.drawStar(i)}))}},{key:"updateStars",value:function(){var t=this;this.stars.forEach((function(i){i.x+=i.speed,i.y-=i.speed*(t.width/2-i.x)/2e3,i.radius=i.startRadius*(Math.random()/4+.7),i.x>t.width+2*i.radius&&(i.x=-2*i.radius)}))}},{key:"clearCanvas",value:function(){this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.width,this.height)}},{key:"draw",value:function(){var t=this;this.clearCanvas(),this.drawSun(),this.drawStars(),this.updateStars(),this.drawFloor(),this.drawOverlayer(),requestAnimationFrame((function(){return t.draw()}))}},{key:"run",value:function(){this.initCanvas(),this.generateStars(500),this.draw()}}])&&t(a.prototype,h),i}())}();